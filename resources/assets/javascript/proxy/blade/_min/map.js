function pan(o){map.panTo(o),map.setZoom(15)}for(i=0;i<locations.length;i++)marker=new google.maps.Marker({position:new google.maps.LatLng(locations[i][1],locations[i][2]),map:map,icon:locations[i][4]}),markers.push(marker),google.maps.event.addListener(marker,"click",function(o,n){return function(){infowindow.setContent(locations[n][4])}}(marker,i));$(".location").on("click",function(){var o=$(this).data("location"),n=$(this).data("storefront"),a=$(this).data("logo"),s=$(this).data("iso"),e=o.split(","),t=new google.maps.LatLng(e[0],e[1]),i=$("div[data-sticker]"),r=$('<div class="storefront-sticker"><div class="storefront-feature" data-sticker><div class="inner"><span class="flag-icon" style="background-image: url('+s+');"></span><div class="logo"><img src="'+a+'"></div></div><div class="tint"><img src="'+n+'" class="bg"></div></div><div class="row pt-1"><div class="col-xs-6 pr-0"><button class="btn btn-secondary btn-sm pull-left" type="button">Find Directions</button></div><div class="col-xs-6"><a class="btn btn-secondary btn-sm pull-right" href="#">View Retailer</button></div></div></div>');i.remove(),r.appendTo("div[data-map]"),marker&&marker.setMap&&marker.setMap(null),geocoder.geocode({location:t},function(o,n){"OK"===n?o[1]?(pan(t),marker=new google.maps.Marker({position:t,map:map}),infowindow.setContent("<address><b>"+o[0].address_components[0].long_name+"&nbsp;"+o[0].address_components[1].long_name+"<br>"+o[0].address_components[5].long_name+"<br>"+o[0].address_components[6].long_name+",&nbsp;"+o[0].address_components[4].long_name+"</b></address>"),infowindow.open(map,marker)):window.alert("No results found"):window.alert("Geocoder failed due to: "+n)})}),google.maps.event.addListener(marker,"click",function(){infowindow.close()});