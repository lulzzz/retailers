"use strict";!function(e,t){"function"==typeof define&&define.amd?define([],t):"object"==typeof exports?module.exports=t():e.store=t()}(this,function(){function e(){try{return s in n&&n[s]}catch(e){return!1}}var t,r={},n="undefined"!=typeof window?window:global,i=n.document,s="localStorage",a="script";if(r.disabled=!1,r.version="1.3.20",r.set=function(e,t){},r.get=function(e,t){},r.has=function(e){return void 0!==r.get(e)},r.remove=function(e){},r.clear=function(){},r.transact=function(e,t,n){null==n&&(n=t,t=null),null==t&&(t={});var i=r.get(e,t);n(i),r.set(e,i)},r.getAll=function(){},r.forEach=function(){},r.serialize=function(e){return JSON.stringify(e)},r.deserialize=function(e){if("string"==typeof e)try{return JSON.parse(e)}catch(t){return e||void 0}},e())t=n[s],r.set=function(e,n){return void 0===n?r.remove(e):(t.setItem(e,r.serialize(n)),n)},r.get=function(e,n){var i=r.deserialize(t.getItem(e));return void 0===i?n:i},r.remove=function(e){t.removeItem(e)},r.clear=function(){t.clear()},r.getAll=function(){var e={};return r.forEach(function(t,r){e[t]=r}),e},r.forEach=function(e){for(var n=0;n<t.length;n++){var i=t.key(n);e(i,r.get(i))}};else if(i&&i.documentElement.addBehavior){var o,l;try{l=new ActiveXObject("htmlfile"),l.open(),l.write("<"+a+">document.w=window</"+a+'><iframe src="/favicon.ico"></iframe>'),l.close(),o=l.w.frames[0].document,t=o.createElement("div")}catch(u){t=i.createElement("div"),o=i.body}var c=function(e){return function(){var n=Array.prototype.slice.call(arguments,0);n.unshift(t),o.appendChild(t),t.addBehavior("#default#userData"),t.load(s);var i=e.apply(r,n);return o.removeChild(t),i}},f=new RegExp("[!\"#$%&'()*+,/\\\\:;<=>?@[\\]^`{|}~]","g"),d=function(e){return e.replace(/^d/,"___$&").replace(f,"___")};r.set=c(function(e,t,n){return t=d(t),void 0===n?r.remove(t):(e.setAttribute(t,r.serialize(n)),e.save(s),n)}),r.get=c(function(e,t,n){t=d(t);var i=r.deserialize(e.getAttribute(t));return void 0===i?n:i}),r.remove=c(function(e,t){t=d(t),e.removeAttribute(t),e.save(s)}),r.clear=c(function(e){var t=e.XMLDocument.documentElement.attributes;e.load(s);for(var r=t.length-1;r>=0;r--)e.removeAttribute(t[r].name);e.save(s)}),r.getAll=function(e){var t={};return r.forEach(function(e,r){t[e]=r}),t},r.forEach=c(function(e,t){for(var n,i=e.XMLDocument.documentElement.attributes,s=0;n=i[s];++s)t(n.name,r.deserialize(e.getAttribute(n.name)))})}try{var h="__storejs__";r.set(h,h),r.get(h)!=h&&(r.disabled=!0),r.remove(h)}catch(u){r.disabled=!0}return r.enabled=!r.disabled,r}),!function e(t,r,n){function i(a,o){if(!r[a]){if(!t[a]){var l="function"==typeof require&&require;if(!o&&l)return l(a,!0);if(s)return s(a,!0);var u=new Error("Cannot find module '"+a+"'");throw u.code="MODULE_NOT_FOUND",u}var c=r[a]={exports:{}};t[a][0].call(c.exports,function(e){var r=t[a][1][e];return i(r?r:e)},c,c.exports,e,t,r,n)}return r[a].exports}for(var s="function"==typeof require&&require,a=0;a<n.length;a++)i(n[a]);return i}({1:[function(e,t,r){!function(r,n){var i=r.document,s=e("./src/utils/get-by-class"),a=e("./src/utils/extend"),o=e("./src/utils/index-of"),l=e("./src/utils/events"),u=e("./src/utils/to-string"),c=e("./src/utils/natural-sort"),f=e("./src/utils/classes"),d=e("./src/utils/get-attribute"),h=e("./src/utils/to-array"),v=function(t,r,m){var g,p=this,y=e("./src/item")(p),C=e("./src/add-async")(p);g={start:function(){p.listClass="list",p.searchClass="search",p.sortClass="sort",p.page=1e4,p.i=1,p.items=[],p.visibleItems=[],p.matchingItems=[],p.searched=!1,p.filtered=!1,p.searchColumns=n,p.handlers={updated:[]},p.plugins={},p.valueNames=[],p.utils={getByClass:s,extend:a,indexOf:o,events:l,toString:u,naturalSort:c,classes:f,getAttribute:d,toArray:h},p.utils.extend(p,r),p.listContainer="string"==typeof t?i.getElementById(t):t,p.listContainer&&(p.list=s(p.listContainer,p.listClass,!0),p.parse=e("./src/parse")(p),p.templater=e("./src/templater")(p),p.search=e("./src/search")(p),p.filter=e("./src/filter")(p),p.sort=e("./src/sort")(p),this.handlers(),this.items(),p.update(),this.plugins())},handlers:function(){for(var e in p.handlers)p[e]&&p.on(e,p[e])},items:function(){p.parse(p.list),m!==n&&p.add(m)},plugins:function(){for(var e=0;e<p.plugins.length;e++){var t=p.plugins[e];p[t.name]=t,t.init(p,v)}}},this.reIndex=function(){p.items=[],p.visibleItems=[],p.matchingItems=[],p.searched=!1,p.filtered=!1,p.parse(p.list)},this.toJSON=function(){for(var e=[],t=0,r=p.items.length;t<r;t++)e.push(p.items[t].values());return e},this.add=function(e,t){if(0!==e.length){if(t)return void C(e,t);var r=[],i=!1;e[0]===n&&(e=[e]);for(var s=0,a=e.length;s<a;s++){var o=null;i=p.items.length>p.page,o=new y(e[s],n,i),p.items.push(o),r.push(o)}return p.update(),r}},this.show=function(e,t){return this.i=e,this.page=t,p.update(),p},this.remove=function(e,t,r){for(var n=0,i=0,s=p.items.length;i<s;i++)p.items[i].values()[e]==t&&(p.templater.remove(p.items[i],r),p.items.splice(i,1),s--,i--,n++);return p.update(),n},this.get=function(e,t){for(var r=[],n=0,i=p.items.length;n<i;n++){var s=p.items[n];s.values()[e]==t&&r.push(s)}return r},this.size=function(){return p.items.length},this.clear=function(){return p.templater.clear(),p.items=[],p},this.on=function(e,t){return p.handlers[e].push(t),p},this.off=function(e,t){var r=p.handlers[e],n=o(r,t);return n>-1&&r.splice(n,1),p},this.trigger=function(e){for(var t=p.handlers[e].length;t--;)p.handlers[e][t](p);return p},this.reset={filter:function(){for(var e=p.items,t=e.length;t--;)e[t].filtered=!1;return p},search:function(){for(var e=p.items,t=e.length;t--;)e[t].found=!1;return p}},this.update=function(){var e=p.items,t=e.length;p.visibleItems=[],p.matchingItems=[],p.templater.clear();for(var r=0;r<t;r++)e[r].matching()&&p.matchingItems.length+1>=p.i&&p.visibleItems.length<p.page?(e[r].show(),p.visibleItems.push(e[r]),p.matchingItems.push(e[r])):e[r].matching()?(p.matchingItems.push(e[r]),e[r].hide()):e[r].hide();return p.trigger("updated"),p},g.start()};"function"==typeof define&&define.amd&&define(function(){return v}),t.exports=v,r.List=v}(window)},{"./src/add-async":2,"./src/filter":3,"./src/item":4,"./src/parse":5,"./src/search":6,"./src/sort":7,"./src/templater":8,"./src/utils/classes":9,"./src/utils/events":10,"./src/utils/extend":11,"./src/utils/get-attribute":12,"./src/utils/get-by-class":13,"./src/utils/index-of":14,"./src/utils/natural-sort":15,"./src/utils/to-array":16,"./src/utils/to-string":17}],2:[function(e,t,r){t.exports=function(e){var t=function(r,n,i){var s=r.splice(0,50);i=i||[],i=i.concat(e.add(s)),r.length>0?setTimeout(function(){t(r,n,i)},1):(e.update(),n(i))};return t}},{}],3:[function(e,t,r){t.exports=function(e){return e.handlers.filterStart=e.handlers.filterStart||[],e.handlers.filterComplete=e.handlers.filterComplete||[],function(t){if(e.trigger("filterStart"),e.i=1,e.reset.filter(),void 0===t)e.filtered=!1;else{e.filtered=!0;for(var r=e.items,n=0,i=r.length;n<i;n++){var s=r[n];t(s)?s.filtered=!0:s.filtered=!1}}return e.update(),e.trigger("filterComplete"),e.visibleItems}}},{}],4:[function(e,t,r){t.exports=function(e){return function(t,r,n){var i=this;this._values={},this.found=!1,this.filtered=!1;var s=function(t,r,n){if(void 0===r)n?i.values(t,n):i.values(t);else{i.elm=r;var s=e.templater.get(i,t);i.values(s)}};this.values=function(t,r){if(void 0===t)return i._values;for(var n in t)i._values[n]=t[n];r!==!0&&e.templater.set(i,i.values())},this.show=function(){e.templater.show(i)},this.hide=function(){e.templater.hide(i)},this.matching=function(){return e.filtered&&e.searched&&i.found&&i.filtered||e.filtered&&!e.searched&&i.filtered||!e.filtered&&e.searched&&i.found||!e.filtered&&!e.searched},this.visible=function(){return!(!i.elm||i.elm.parentNode!=e.list)},s(t,r,n)}}},{}],5:[function(e,t,r){t.exports=function(t){var r=e("./item")(t),n=function(e){for(var t=e.childNodes,r=[],n=0,i=t.length;n<i;n++)void 0===t[n].data&&r.push(t[n]);return r},i=function(e,n){for(var i=0,s=e.length;i<s;i++)t.items.push(new r(n,e[i]))},s=function(e,r){var n=e.splice(0,50);i(n,r),e.length>0?setTimeout(function(){s(e,r)},1):(t.update(),t.trigger("parseComplete"))};return t.handlers.parseComplete=t.handlers.parseComplete||[],function(){var e=n(t.list),r=t.valueNames;t.indexAsync?s(e,r):i(e,r)}}},{"./item":4}],6:[function(e,t,r){t.exports=function(e){var t,r,n,i,s={resetList:function(){e.i=1,e.templater.clear(),i=void 0},setOptions:function(e){2==e.length&&e[1]instanceof Array?r=e[1]:2==e.length&&"function"==typeof e[1]?(r=void 0,i=e[1]):3==e.length?(r=e[1],i=e[2]):r=void 0},setColumns:function(){0!==e.items.length&&void 0===r&&(r=void 0===e.searchColumns?s.toArray(e.items[0].values()):e.searchColumns)},setSearchString:function(t){t=e.utils.toString(t).toLowerCase(),t=t.replace(/[-[\]{}()*+?.,\\^$|#]/g,"\\$&"),n=t},toArray:function(e){var t=[];for(var r in e)t.push(r);return t}},a={list:function(){for(var t=0,r=e.items.length;t<r;t++)a.item(e.items[t])},item:function(e){e.found=!1;for(var t=0,n=r.length;t<n;t++)if(a.values(e.values(),r[t]))return void(e.found=!0)},values:function(r,i){return!!(r.hasOwnProperty(i)&&(t=e.utils.toString(r[i]).toLowerCase(),""!==n&&t.search(n)>-1))},reset:function(){e.reset.search(),e.searched=!1}},o=function(t){return e.trigger("searchStart"),s.resetList(),s.setSearchString(t),s.setOptions(arguments),s.setColumns(),""===n?a.reset():(e.searched=!0,i?i(n,r):a.list()),e.update(),e.trigger("searchComplete"),e.visibleItems};return e.handlers.searchStart=e.handlers.searchStart||[],e.handlers.searchComplete=e.handlers.searchComplete||[],e.utils.events.bind(e.utils.getByClass(e.listContainer,e.searchClass),"keyup",function(t){var r=t.target||t.srcElement,n=""===r.value&&!e.searched;n||o(r.value)}),e.utils.events.bind(e.utils.getByClass(e.listContainer,e.searchClass),"input",function(e){var t=e.target||e.srcElement;""===t.value&&o("")}),o}},{}],7:[function(e,t,r){t.exports=function(e){e.sortFunction=e.sortFunction||function(t,r,n){return n.desc="desc"==n.order,e.utils.naturalSort(t.values()[n.valueName],r.values()[n.valueName],n)};var t={els:void 0,clear:function(){for(var r=0,n=t.els.length;r<n;r++)e.utils.classes(t.els[r]).remove("asc"),e.utils.classes(t.els[r]).remove("desc")},getOrder:function(t){var r=e.utils.getAttribute(t,"data-order");return"asc"==r||"desc"==r?r:e.utils.classes(t).has("desc")?"asc":e.utils.classes(t).has("asc")?"desc":"asc"},getInSensitive:function(t,r){var n=e.utils.getAttribute(t,"data-insensitive");"false"===n?r.insensitive=!1:r.insensitive=!0},setOrder:function(r){for(var n=0,i=t.els.length;n<i;n++){var s=t.els[n];if(e.utils.getAttribute(s,"data-sort")===r.valueName){var a=e.utils.getAttribute(s,"data-order");"asc"==a||"desc"==a?a==r.order&&e.utils.classes(s).add(r.order):e.utils.classes(s).add(r.order)}}}},r=function(){e.trigger("sortStart");var r={},n=arguments[0].currentTarget||arguments[0].srcElement||void 0;n?(r.valueName=e.utils.getAttribute(n,"data-sort"),t.getInSensitive(n,r),r.order=t.getOrder(n)):(r=arguments[1]||r,r.valueName=arguments[0],r.order=r.order||"asc",r.insensitive="undefined"==typeof r.insensitive||r.insensitive),t.clear(),t.setOrder(r),r.sortFunction=r.sortFunction||e.sortFunction,e.items.sort(function(e,t){var n="desc"===r.order?-1:1;return r.sortFunction(e,t,r)*n}),e.update(),e.trigger("sortComplete")};return e.handlers.sortStart=e.handlers.sortStart||[],e.handlers.sortComplete=e.handlers.sortComplete||[],t.els=e.utils.getByClass(e.listContainer,e.sortClass),e.utils.events.bind(t.els,"click",r),e.on("searchStart",t.clear),e.on("filterStart",t.clear),r}},{}],8:[function(e,t,r){var n=function(e){var t,r=this,n=function(){t=r.getItemSource(e.item),t&&(t=r.clearSourceItem(t,e.valueNames))};this.clearSourceItem=function(t,r){for(var n=0,i=r.length;n<i;n++){var s;if(r[n].data)for(var a=0,o=r[n].data.length;a<o;a++)t.setAttribute("data-"+r[n].data[a],"");else r[n].attr&&r[n].name?(s=e.utils.getByClass(t,r[n].name,!0),s&&s.setAttribute(r[n].attr,"")):(s=e.utils.getByClass(t,r[n],!0),s&&(s.innerHTML=""));s=void 0}return t},this.getItemSource=function(t){if(void 0===t){for(var r=e.list.childNodes,n=0,i=r.length;n<i;n++)if(void 0===r[n].data)return r[n].cloneNode(!0)}else{if(/<tr[\s>]/g.exec(t)){var s=document.createElement("tbody");return s.innerHTML=t,s.firstChild}if(t.indexOf("<")!==-1){var a=document.createElement("div");return a.innerHTML=t,a.firstChild}var o=document.getElementById(e.item);if(o)return o}},this.get=function(t,n){r.create(t);for(var i={},s=0,a=n.length;s<a;s++){var o;if(n[s].data)for(var l=0,u=n[s].data.length;l<u;l++)i[n[s].data[l]]=e.utils.getAttribute(t.elm,"data-"+n[s].data[l]);else n[s].attr&&n[s].name?(o=e.utils.getByClass(t.elm,n[s].name,!0),i[n[s].name]=o?e.utils.getAttribute(o,n[s].attr):""):(o=e.utils.getByClass(t.elm,n[s],!0),i[n[s]]=o?o.innerHTML:"");o=void 0}return i},this.set=function(t,n){var i=function(t){for(var r=0,n=e.valueNames.length;r<n;r++)if(e.valueNames[r].data){for(var i=e.valueNames[r].data,s=0,a=i.length;s<a;s++)if(i[s]===t)return{data:t}}else{if(e.valueNames[r].attr&&e.valueNames[r].name&&e.valueNames[r].name==t)return e.valueNames[r];if(e.valueNames[r]===t)return t}},s=function(r,n){var s,a=i(r);a&&(a.data?t.elm.setAttribute("data-"+a.data,n):a.attr&&a.name?(s=e.utils.getByClass(t.elm,a.name,!0),s&&s.setAttribute(a.attr,n)):(s=e.utils.getByClass(t.elm,a,!0),s&&(s.innerHTML=n)),s=void 0)};if(!r.create(t))for(var a in n)n.hasOwnProperty(a)&&s(a,n[a])},this.create=function(e){if(void 0!==e.elm)return!1;if(void 0===t)throw new Error("The list need to have at list one item on init otherwise you'll have to add a template.");var n=t.cloneNode(!0);return n.removeAttribute("id"),e.elm=n,r.set(e,e.values()),!0},this.remove=function(t){t.elm.parentNode===e.list&&e.list.removeChild(t.elm)},this.show=function(t){r.create(t),e.list.appendChild(t.elm)},this.hide=function(t){void 0!==t.elm&&t.elm.parentNode===e.list&&e.list.removeChild(t.elm)},this.clear=function(){if(e.list.hasChildNodes())for(;e.list.childNodes.length>=1;)e.list.removeChild(e.list.firstChild)},n()};t.exports=function(e){return new n(e)}},{}],9:[function(e,t,r){function n(e){if(!e||!e.nodeType)throw new Error("A DOM element reference is required");this.el=e,this.list=e.classList}var i=e("./index-of"),s=/\s+/,a=Object.prototype.toString;t.exports=function(e){return new n(e)},n.prototype.add=function(e){if(this.list)return this.list.add(e),this;var t=this.array(),r=i(t,e);return~r||t.push(e),this.el.className=t.join(" "),this},n.prototype.remove=function(e){if("[object RegExp]"==a.call(e))return this.removeMatching(e);if(this.list)return this.list.remove(e),this;var t=this.array(),r=i(t,e);return~r&&t.splice(r,1),this.el.className=t.join(" "),this},n.prototype.removeMatching=function(e){for(var t=this.array(),r=0;r<t.length;r++)e.test(t[r])&&this.remove(t[r]);return this},n.prototype.toggle=function(e,t){return this.list?("undefined"!=typeof t?t!==this.list.toggle(e,t)&&this.list.toggle(e):this.list.toggle(e),this):("undefined"!=typeof t?t?this.add(e):this.remove(e):this.has(e)?this.remove(e):this.add(e),this)},n.prototype.array=function(){var e=this.el.getAttribute("class")||"",t=e.replace(/^\s+|\s+$/g,""),r=t.split(s);return""===r[0]&&r.shift(),r},n.prototype.has=n.prototype.contains=function(e){return this.list?this.list.contains(e):!!~i(this.array(),e)}},{"./index-of":14}],10:[function(e,t,r){var n=window.addEventListener?"addEventListener":"attachEvent",i=window.removeEventListener?"removeEventListener":"detachEvent",s="addEventListener"!==n?"on":"",a=e("./to-array");r.bind=function(e,t,r,i){e=a(e);for(var o=0;o<e.length;o++)e[o][n](s+t,r,i||!1)},r.unbind=function(e,t,r,n){e=a(e);for(var o=0;o<e.length;o++)e[o][i](s+t,r,n||!1)}},{"./to-array":16}],11:[function(e,t,r){t.exports=function(e){for(var t,r=Array.prototype.slice.call(arguments,1),n=0;t=r[n];n++)if(t)for(var i in t)e[i]=t[i];return e}},{}],12:[function(e,t,r){t.exports=function(e,t){var r=e.getAttribute&&e.getAttribute(t)||null;if(!r)for(var n=e.attributes,i=n.length,s=0;s<i;s++)void 0!==t[s]&&t[s].nodeName===t&&(r=t[s].nodeValue);return r}},{}],13:[function(e,t,r){t.exports=function(){return document.getElementsByClassName?function(e,t,r){return r?e.getElementsByClassName(t)[0]:e.getElementsByClassName(t)}:document.querySelector?function(e,t,r){return t="."+t,r?e.querySelector(t):e.querySelectorAll(t)}:function(e,t,r){var n=[],i="*";null===e&&(e=document);for(var s=e.getElementsByTagName(i),a=s.length,o=new RegExp("(^|\\s)"+t+"(\\s|$)"),l=0,u=0;l<a;l++)if(o.test(s[l].className)){if(r)return s[l];n[u]=s[l],u++}return n}}()},{}],14:[function(e,t,r){var n=[].indexOf;t.exports=function(e,t){if(n)return e.indexOf(t);for(var r=0;r<e.length;++r)if(e[r]===t)return r;return-1}},{}],15:[function(e,t,r){t.exports=function(e,t,r){var n,i,s=/(^([+\-]?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?(?=\D|\s|$))|^0x[\da-fA-F]+$|\d+)/g,a=/^\s+|\s+$/g,o=/\s+/g,l=/(^([\w ]+,?[\w ]+)?[\w ]+,?[\w ]+\d+:\d+(:\d+)?[\w ]?|^\d{1,4}[\/\-]\d{1,4}[\/\-]\d{1,4}|^\w+, \w+ \d+, \d{4})/,u=/^0x[0-9a-f]+$/i,c=/^0/,f=r||{},d=function(e){return(f.insensitive&&(""+e).toLowerCase()||""+e).replace(a,"")},h=d(e),v=d(t),m=h.replace(s,"\0$1\0").replace(/\0$/,"").replace(/^\0/,"").split("\0"),g=v.replace(s,"\0$1\0").replace(/\0$/,"").replace(/^\0/,"").split("\0"),p=parseInt(h.match(u),16)||1!==m.length&&Date.parse(h),y=parseInt(v.match(u),16)||p&&v.match(l)&&Date.parse(v)||null,C=function(e,t){return(!e.match(c)||1==t)&&parseFloat(e)||e.replace(o," ").replace(a,"")||0};if(y){if(p<y)return-1;if(p>y)return 1}for(var b=0,w=m.length,x=g.length,N=Math.max(w,x);b<N;b++){if(n=C(m[b]||"",w),i=C(g[b]||"",x),isNaN(n)!==isNaN(i))return isNaN(n)?1:-1;if(/[^\x00-\x80]/.test(n+i)&&n.localeCompare){var A=n.localeCompare(i);return A/Math.abs(A)}if(n<i)return-1;if(n>i)return 1}return 0}},{}],16:[function(e,t,r){function n(e){return"[object Array]"===Object.prototype.toString.call(e)}t.exports=function(e){if("undefined"==typeof e)return[];if(null===e)return[null];if(e===window)return[window];if("string"==typeof e)return[e];if(n(e))return e;if("number"!=typeof e.length)return[e];if("function"==typeof e&&e instanceof Function)return[e];for(var t=[],r=0;r<e.length;r++)(Object.prototype.hasOwnProperty.call(e,r)||r in e)&&t.push(e[r]);return t.length?t:[]}},{}],17:[function(e,t,r){t.exports=function(e){return e=void 0===e?"":e,e=null===e?"":e,e=e.toString()}},{}]},{},[1]);