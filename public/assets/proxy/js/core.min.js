"use strict";!function(t,e){"function"==typeof define&&define.amd?define([],e):"object"==typeof exports?module.exports=e():t.store=e()}(this,function(){function t(){try{return s in n&&n[s]}catch(t){return!1}}var e,r={},n="undefined"!=typeof window?window:global,i=n.document,s="localStorage",o="script";if(r.disabled=!1,r.version="1.3.20",r.set=function(t,e){},r.get=function(t,e){},r.has=function(t){return void 0!==r.get(t)},r.remove=function(t){},r.clear=function(){},r.transact=function(t,e,n){null==n&&(n=e,e=null),null==e&&(e={});var i=r.get(t,e);n(i),r.set(t,i)},r.getAll=function(){},r.forEach=function(){},r.serialize=function(t){return JSON.stringify(t)},r.deserialize=function(t){if("string"==typeof t)try{return JSON.parse(t)}catch(e){return t||void 0}},t())e=n[s],r.set=function(t,n){return void 0===n?r.remove(t):(e.setItem(t,r.serialize(n)),n)},r.get=function(t,n){var i=r.deserialize(e.getItem(t));return void 0===i?n:i},r.remove=function(t){e.removeItem(t)},r.clear=function(){e.clear()},r.getAll=function(){var t={};return r.forEach(function(e,r){t[e]=r}),t},r.forEach=function(t){for(var n=0;n<e.length;n++){var i=e.key(n);t(i,r.get(i))}};else if(i&&i.documentElement.addBehavior){var a,u;try{u=new ActiveXObject("htmlfile"),u.open(),u.write("<"+o+">document.w=window</"+o+'><iframe src="/favicon.ico"></iframe>'),u.close(),a=u.w.frames[0].document,e=a.createElement("div")}catch(l){e=i.createElement("div"),a=i.body}var c=function(t){return function(){var n=Array.prototype.slice.call(arguments,0);n.unshift(e),a.appendChild(e),e.addBehavior("#default#userData"),e.load(s);var i=t.apply(r,n);return a.removeChild(e),i}},f=new RegExp("[!\"#$%&'()*+,/\\\\:;<=>?@[\\]^`{|}~]","g"),d=function(t){return t.replace(/^d/,"___$&").replace(f,"___")};r.set=c(function(t,e,n){return e=d(e),void 0===n?r.remove(e):(t.setAttribute(e,r.serialize(n)),t.save(s),n)}),r.get=c(function(t,e,n){e=d(e);var i=r.deserialize(t.getAttribute(e));return void 0===i?n:i}),r.remove=c(function(t,e){e=d(e),t.removeAttribute(e),t.save(s)}),r.clear=c(function(t){var e=t.XMLDocument.documentElement.attributes;t.load(s);for(var r=e.length-1;r>=0;r--)t.removeAttribute(e[r].name);t.save(s)}),r.getAll=function(t){var e={};return r.forEach(function(t,r){e[t]=r}),e},r.forEach=c(function(t,e){for(var n,i=t.XMLDocument.documentElement.attributes,s=0;n=i[s];++s)e(n.name,r.deserialize(t.getAttribute(n.name)))})}try{var h="__storejs__";r.set(h,h),r.get(h)!=h&&(r.disabled=!0),r.remove(h)}catch(l){r.disabled=!0}return r.enabled=!r.disabled,r}),!function t(e,r,n){function i(o,a){if(!r[o]){if(!e[o]){var u="function"==typeof require&&require;if(!a&&u)return u(o,!0);if(s)return s(o,!0);var l=new Error("Cannot find module '"+o+"'");throw l.code="MODULE_NOT_FOUND",l}var c=r[o]={exports:{}};e[o][0].call(c.exports,function(t){var r=e[o][1][t];return i(r?r:t)},c,c.exports,t,e,r,n)}return r[o].exports}for(var s="function"==typeof require&&require,o=0;o<n.length;o++)i(n[o]);return i}({1:[function(t,e,r){!function(r,n){var i=r.document,s=t("./src/utils/get-by-class"),o=t("./src/utils/extend"),a=t("./src/utils/index-of"),u=t("./src/utils/events"),l=t("./src/utils/to-string"),c=t("./src/utils/natural-sort"),f=t("./src/utils/classes"),d=t("./src/utils/get-attribute"),h=t("./src/utils/to-array"),p=function(e,r,g){var m,v=this,y=t("./src/item")(v),w=t("./src/add-async")(v);m={start:function(){v.listClass="list",v.searchClass="search",v.sortClass="sort",v.page=1e4,v.i=1,v.items=[],v.visibleItems=[],v.matchingItems=[],v.searched=!1,v.filtered=!1,v.searchColumns=n,v.handlers={updated:[]},v.plugins={},v.valueNames=[],v.utils={getByClass:s,extend:o,indexOf:a,events:u,toString:l,naturalSort:c,classes:f,getAttribute:d,toArray:h},v.utils.extend(v,r),v.listContainer="string"==typeof e?i.getElementById(e):e,v.listContainer&&(v.list=s(v.listContainer,v.listClass,!0),v.parse=t("./src/parse")(v),v.templater=t("./src/templater")(v),v.search=t("./src/search")(v),v.filter=t("./src/filter")(v),v.sort=t("./src/sort")(v),this.handlers(),this.items(),v.update(),this.plugins())},handlers:function(){for(var t in v.handlers)v[t]&&v.on(t,v[t])},items:function(){v.parse(v.list),g!==n&&v.add(g)},plugins:function(){for(var t=0;t<v.plugins.length;t++){var e=v.plugins[t];v[e.name]=e,e.init(v,p)}}},this.reIndex=function(){v.items=[],v.visibleItems=[],v.matchingItems=[],v.searched=!1,v.filtered=!1,v.parse(v.list)},this.toJSON=function(){for(var t=[],e=0,r=v.items.length;e<r;e++)t.push(v.items[e].values());return t},this.add=function(t,e){if(0!==t.length){if(e)return void w(t,e);var r=[],i=!1;t[0]===n&&(t=[t]);for(var s=0,o=t.length;s<o;s++){var a=null;i=v.items.length>v.page,a=new y(t[s],n,i),v.items.push(a),r.push(a)}return v.update(),r}},this.show=function(t,e){return this.i=t,this.page=e,v.update(),v},this.remove=function(t,e,r){for(var n=0,i=0,s=v.items.length;i<s;i++)v.items[i].values()[t]==e&&(v.templater.remove(v.items[i],r),v.items.splice(i,1),s--,i--,n++);return v.update(),n},this.get=function(t,e){for(var r=[],n=0,i=v.items.length;n<i;n++){var s=v.items[n];s.values()[t]==e&&r.push(s)}return r},this.size=function(){return v.items.length},this.clear=function(){return v.templater.clear(),v.items=[],v},this.on=function(t,e){return v.handlers[t].push(e),v},this.off=function(t,e){var r=v.handlers[t],n=a(r,e);return n>-1&&r.splice(n,1),v},this.trigger=function(t){for(var e=v.handlers[t].length;e--;)v.handlers[t][e](v);return v},this.reset={filter:function(){for(var t=v.items,e=t.length;e--;)t[e].filtered=!1;return v},search:function(){for(var t=v.items,e=t.length;e--;)t[e].found=!1;return v}},this.update=function(){var t=v.items,e=t.length;v.visibleItems=[],v.matchingItems=[],v.templater.clear();for(var r=0;r<e;r++)t[r].matching()&&v.matchingItems.length+1>=v.i&&v.visibleItems.length<v.page?(t[r].show(),v.visibleItems.push(t[r]),v.matchingItems.push(t[r])):t[r].matching()?(v.matchingItems.push(t[r]),t[r].hide()):t[r].hide();return v.trigger("updated"),v},m.start()};"function"==typeof define&&define.amd&&define(function(){return p}),e.exports=p,r.List=p}(window)},{"./src/add-async":2,"./src/filter":3,"./src/item":4,"./src/parse":5,"./src/search":6,"./src/sort":7,"./src/templater":8,"./src/utils/classes":9,"./src/utils/events":10,"./src/utils/extend":11,"./src/utils/get-attribute":12,"./src/utils/get-by-class":13,"./src/utils/index-of":14,"./src/utils/natural-sort":15,"./src/utils/to-array":16,"./src/utils/to-string":17}],2:[function(t,e,r){e.exports=function(t){var e=function(r,n,i){var s=r.splice(0,50);i=i||[],i=i.concat(t.add(s)),r.length>0?setTimeout(function(){e(r,n,i)},1):(t.update(),n(i))};return e}},{}],3:[function(t,e,r){e.exports=function(t){return t.handlers.filterStart=t.handlers.filterStart||[],t.handlers.filterComplete=t.handlers.filterComplete||[],function(e){if(t.trigger("filterStart"),t.i=1,t.reset.filter(),void 0===e)t.filtered=!1;else{t.filtered=!0;for(var r=t.items,n=0,i=r.length;n<i;n++){var s=r[n];e(s)?s.filtered=!0:s.filtered=!1}}return t.update(),t.trigger("filterComplete"),t.visibleItems}}},{}],4:[function(t,e,r){e.exports=function(t){return function(e,r,n){var i=this;this._values={},this.found=!1,this.filtered=!1;var s=function(e,r,n){if(void 0===r)n?i.values(e,n):i.values(e);else{i.elm=r;var s=t.templater.get(i,e);i.values(s)}};this.values=function(e,r){if(void 0===e)return i._values;for(var n in e)i._values[n]=e[n];r!==!0&&t.templater.set(i,i.values())},this.show=function(){t.templater.show(i)},this.hide=function(){t.templater.hide(i)},this.matching=function(){return t.filtered&&t.searched&&i.found&&i.filtered||t.filtered&&!t.searched&&i.filtered||!t.filtered&&t.searched&&i.found||!t.filtered&&!t.searched},this.visible=function(){return!(!i.elm||i.elm.parentNode!=t.list)},s(e,r,n)}}},{}],5:[function(t,e,r){e.exports=function(e){var r=t("./item")(e),n=function(t){for(var e=t.childNodes,r=[],n=0,i=e.length;n<i;n++)void 0===e[n].data&&r.push(e[n]);return r},i=function(t,n){for(var i=0,s=t.length;i<s;i++)e.items.push(new r(n,t[i]))},s=function(t,r){var n=t.splice(0,50);i(n,r),t.length>0?setTimeout(function(){s(t,r)},1):(e.update(),e.trigger("parseComplete"))};return e.handlers.parseComplete=e.handlers.parseComplete||[],function(){var t=n(e.list),r=e.valueNames;e.indexAsync?s(t,r):i(t,r)}}},{"./item":4}],6:[function(t,e,r){e.exports=function(t){var e,r,n,i,s={resetList:function(){t.i=1,t.templater.clear(),i=void 0},setOptions:function(t){2==t.length&&t[1]instanceof Array?r=t[1]:2==t.length&&"function"==typeof t[1]?(r=void 0,i=t[1]):3==t.length?(r=t[1],i=t[2]):r=void 0},setColumns:function(){0!==t.items.length&&void 0===r&&(r=void 0===t.searchColumns?s.toArray(t.items[0].values()):t.searchColumns)},setSearchString:function(e){e=t.utils.toString(e).toLowerCase(),e=e.replace(/[-[\]{}()*+?.,\\^$|#]/g,"\\$&"),n=e},toArray:function(t){var e=[];for(var r in t)e.push(r);return e}},o={list:function(){for(var e=0,r=t.items.length;e<r;e++)o.item(t.items[e])},item:function(t){t.found=!1;for(var e=0,n=r.length;e<n;e++)if(o.values(t.values(),r[e]))return void(t.found=!0)},values:function(r,i){return!!(r.hasOwnProperty(i)&&(e=t.utils.toString(r[i]).toLowerCase(),""!==n&&e.search(n)>-1))},reset:function(){t.reset.search(),t.searched=!1}},a=function(e){return t.trigger("searchStart"),s.resetList(),s.setSearchString(e),s.setOptions(arguments),s.setColumns(),""===n?o.reset():(t.searched=!0,i?i(n,r):o.list()),t.update(),t.trigger("searchComplete"),t.visibleItems};return t.handlers.searchStart=t.handlers.searchStart||[],t.handlers.searchComplete=t.handlers.searchComplete||[],t.utils.events.bind(t.utils.getByClass(t.listContainer,t.searchClass),"keyup",function(e){var r=e.target||e.srcElement,n=""===r.value&&!t.searched;n||a(r.value)}),t.utils.events.bind(t.utils.getByClass(t.listContainer,t.searchClass),"input",function(t){var e=t.target||t.srcElement;""===e.value&&a("")}),a}},{}],7:[function(t,e,r){e.exports=function(t){t.sortFunction=t.sortFunction||function(e,r,n){return n.desc="desc"==n.order,t.utils.naturalSort(e.values()[n.valueName],r.values()[n.valueName],n)};var e={els:void 0,clear:function(){for(var r=0,n=e.els.length;r<n;r++)t.utils.classes(e.els[r]).remove("asc"),t.utils.classes(e.els[r]).remove("desc")},getOrder:function(e){var r=t.utils.getAttribute(e,"data-order");return"asc"==r||"desc"==r?r:t.utils.classes(e).has("desc")?"asc":t.utils.classes(e).has("asc")?"desc":"asc"},getInSensitive:function(e,r){var n=t.utils.getAttribute(e,"data-insensitive");"false"===n?r.insensitive=!1:r.insensitive=!0},setOrder:function(r){for(var n=0,i=e.els.length;n<i;n++){var s=e.els[n];if(t.utils.getAttribute(s,"data-sort")===r.valueName){var o=t.utils.getAttribute(s,"data-order");"asc"==o||"desc"==o?o==r.order&&t.utils.classes(s).add(r.order):t.utils.classes(s).add(r.order)}}}},r=function(){t.trigger("sortStart");var r={},n=arguments[0].currentTarget||arguments[0].srcElement||void 0;n?(r.valueName=t.utils.getAttribute(n,"data-sort"),e.getInSensitive(n,r),r.order=e.getOrder(n)):(r=arguments[1]||r,r.valueName=arguments[0],r.order=r.order||"asc",r.insensitive="undefined"==typeof r.insensitive||r.insensitive),e.clear(),e.setOrder(r),r.sortFunction=r.sortFunction||t.sortFunction,t.items.sort(function(t,e){var n="desc"===r.order?-1:1;return r.sortFunction(t,e,r)*n}),t.update(),t.trigger("sortComplete")};return t.handlers.sortStart=t.handlers.sortStart||[],t.handlers.sortComplete=t.handlers.sortComplete||[],e.els=t.utils.getByClass(t.listContainer,t.sortClass),t.utils.events.bind(e.els,"click",r),t.on("searchStart",e.clear),t.on("filterStart",e.clear),r}},{}],8:[function(t,e,r){var n=function(t){var e,r=this,n=function(){e=r.getItemSource(t.item),e&&(e=r.clearSourceItem(e,t.valueNames))};this.clearSourceItem=function(e,r){for(var n=0,i=r.length;n<i;n++){var s;if(r[n].data)for(var o=0,a=r[n].data.length;o<a;o++)e.setAttribute("data-"+r[n].data[o],"");else r[n].attr&&r[n].name?(s=t.utils.getByClass(e,r[n].name,!0),s&&s.setAttribute(r[n].attr,"")):(s=t.utils.getByClass(e,r[n],!0),s&&(s.innerHTML=""));s=void 0}return e},this.getItemSource=function(e){if(void 0===e){for(var r=t.list.childNodes,n=0,i=r.length;n<i;n++)if(void 0===r[n].data)return r[n].cloneNode(!0)}else{if(/<tr[\s>]/g.exec(e)){var s=document.createElement("tbody");return s.innerHTML=e,s.firstChild}if(e.indexOf("<")!==-1){var o=document.createElement("div");return o.innerHTML=e,o.firstChild}var a=document.getElementById(t.item);if(a)return a}},this.get=function(e,n){r.create(e);for(var i={},s=0,o=n.length;s<o;s++){var a;if(n[s].data)for(var u=0,l=n[s].data.length;u<l;u++)i[n[s].data[u]]=t.utils.getAttribute(e.elm,"data-"+n[s].data[u]);else n[s].attr&&n[s].name?(a=t.utils.getByClass(e.elm,n[s].name,!0),i[n[s].name]=a?t.utils.getAttribute(a,n[s].attr):""):(a=t.utils.getByClass(e.elm,n[s],!0),i[n[s]]=a?a.innerHTML:"");a=void 0}return i},this.set=function(e,n){var i=function(e){for(var r=0,n=t.valueNames.length;r<n;r++)if(t.valueNames[r].data){for(var i=t.valueNames[r].data,s=0,o=i.length;s<o;s++)if(i[s]===e)return{data:e}}else{if(t.valueNames[r].attr&&t.valueNames[r].name&&t.valueNames[r].name==e)return t.valueNames[r];if(t.valueNames[r]===e)return e}},s=function(r,n){var s,o=i(r);o&&(o.data?e.elm.setAttribute("data-"+o.data,n):o.attr&&o.name?(s=t.utils.getByClass(e.elm,o.name,!0),s&&s.setAttribute(o.attr,n)):(s=t.utils.getByClass(e.elm,o,!0),s&&(s.innerHTML=n)),s=void 0)};if(!r.create(e))for(var o in n)n.hasOwnProperty(o)&&s(o,n[o])},this.create=function(t){if(void 0!==t.elm)return!1;if(void 0===e)throw new Error("The list need to have at list one item on init otherwise you'll have to add a template.");var n=e.cloneNode(!0);return n.removeAttribute("id"),t.elm=n,r.set(t,t.values()),!0},this.remove=function(e){e.elm.parentNode===t.list&&t.list.removeChild(e.elm)},this.show=function(e){r.create(e),t.list.appendChild(e.elm)},this.hide=function(e){void 0!==e.elm&&e.elm.parentNode===t.list&&t.list.removeChild(e.elm)},this.clear=function(){if(t.list.hasChildNodes())for(;t.list.childNodes.length>=1;)t.list.removeChild(t.list.firstChild)},n()};e.exports=function(t){return new n(t)}},{}],9:[function(t,e,r){function n(t){if(!t||!t.nodeType)throw new Error("A DOM element reference is required");this.el=t,this.list=t.classList}var i=t("./index-of"),s=/\s+/,o=Object.prototype.toString;e.exports=function(t){return new n(t)},n.prototype.add=function(t){if(this.list)return this.list.add(t),this;var e=this.array(),r=i(e,t);return~r||e.push(t),this.el.className=e.join(" "),this},n.prototype.remove=function(t){if("[object RegExp]"==o.call(t))return this.removeMatching(t);if(this.list)return this.list.remove(t),this;var e=this.array(),r=i(e,t);return~r&&e.splice(r,1),this.el.className=e.join(" "),this},n.prototype.removeMatching=function(t){for(var e=this.array(),r=0;r<e.length;r++)t.test(e[r])&&this.remove(e[r]);return this},n.prototype.toggle=function(t,e){return this.list?("undefined"!=typeof e?e!==this.list.toggle(t,e)&&this.list.toggle(t):this.list.toggle(t),this):("undefined"!=typeof e?e?this.add(t):this.remove(t):this.has(t)?this.remove(t):this.add(t),this)},n.prototype.array=function(){var t=this.el.getAttribute("class")||"",e=t.replace(/^\s+|\s+$/g,""),r=e.split(s);return""===r[0]&&r.shift(),r},n.prototype.has=n.prototype.contains=function(t){return this.list?this.list.contains(t):!!~i(this.array(),t)}},{"./index-of":14}],10:[function(t,e,r){var n=window.addEventListener?"addEventListener":"attachEvent",i=window.removeEventListener?"removeEventListener":"detachEvent",s="addEventListener"!==n?"on":"",o=t("./to-array");r.bind=function(t,e,r,i){t=o(t);for(var a=0;a<t.length;a++)t[a][n](s+e,r,i||!1)},r.unbind=function(t,e,r,n){t=o(t);for(var a=0;a<t.length;a++)t[a][i](s+e,r,n||!1)}},{"./to-array":16}],11:[function(t,e,r){e.exports=function(t){for(var e,r=Array.prototype.slice.call(arguments,1),n=0;e=r[n];n++)if(e)for(var i in e)t[i]=e[i];return t}},{}],12:[function(t,e,r){e.exports=function(t,e){var r=t.getAttribute&&t.getAttribute(e)||null;if(!r)for(var n=t.attributes,i=n.length,s=0;s<i;s++)void 0!==e[s]&&e[s].nodeName===e&&(r=e[s].nodeValue);return r}},{}],13:[function(t,e,r){e.exports=function(){return document.getElementsByClassName?function(t,e,r){return r?t.getElementsByClassName(e)[0]:t.getElementsByClassName(e)}:document.querySelector?function(t,e,r){return e="."+e,r?t.querySelector(e):t.querySelectorAll(e)}:function(t,e,r){var n=[],i="*";null===t&&(t=document);for(var s=t.getElementsByTagName(i),o=s.length,a=new RegExp("(^|\\s)"+e+"(\\s|$)"),u=0,l=0;u<o;u++)if(a.test(s[u].className)){if(r)return s[u];n[l]=s[u],l++}return n}}()},{}],14:[function(t,e,r){var n=[].indexOf;e.exports=function(t,e){if(n)return t.indexOf(e);for(var r=0;r<t.length;++r)if(t[r]===e)return r;return-1}},{}],15:[function(t,e,r){e.exports=function(t,e,r){var n,i,s=/(^([+\-]?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?(?=\D|\s|$))|^0x[\da-fA-F]+$|\d+)/g,o=/^\s+|\s+$/g,a=/\s+/g,u=/(^([\w ]+,?[\w ]+)?[\w ]+,?[\w ]+\d+:\d+(:\d+)?[\w ]?|^\d{1,4}[\/\-]\d{1,4}[\/\-]\d{1,4}|^\w+, \w+ \d+, \d{4})/,l=/^0x[0-9a-f]+$/i,c=/^0/,f=r||{},d=function(t){return(f.insensitive&&(""+t).toLowerCase()||""+t).replace(o,"")},h=d(t),p=d(e),g=h.replace(s,"\0$1\0").replace(/\0$/,"").replace(/^\0/,"").split("\0"),m=p.replace(s,"\0$1\0").replace(/\0$/,"").replace(/^\0/,"").split("\0"),v=parseInt(h.match(l),16)||1!==g.length&&Date.parse(h),y=parseInt(p.match(l),16)||v&&p.match(u)&&Date.parse(p)||null,w=function(t,e){return(!t.match(c)||1==e)&&parseFloat(t)||t.replace(a," ").replace(o,"")||0};if(y){if(v<y)return-1;if(v>y)return 1}for(var b=0,C=g.length,x=m.length,S=Math.max(C,x);b<S;b++){if(n=w(g[b]||"",C),i=w(m[b]||"",x),isNaN(n)!==isNaN(i))return isNaN(n)?1:-1;if(/[^\x00-\x80]/.test(n+i)&&n.localeCompare){var N=n.localeCompare(i);return N/Math.abs(N)}if(n<i)return-1;if(n>i)return 1}return 0}},{}],16:[function(t,e,r){function n(t){return"[object Array]"===Object.prototype.toString.call(t)}e.exports=function(t){if("undefined"==typeof t)return[];if(null===t)return[null];if(t===window)return[window];if("string"==typeof t)return[t];if(n(t))return t;if("number"!=typeof t.length)return[t];if("function"==typeof t&&t instanceof Function)return[t];for(var e=[],r=0;r<t.length;r++)(Object.prototype.hasOwnProperty.call(t,r)||r in t)&&e.push(t[r]);return e.length?e:[]}},{}],17:[function(t,e,r){e.exports=function(t){return t=void 0===t?"":t,t=null===t?"":t,t=t.toString()}},{}]},{},[1]),function(){var t,e,r,n,i,s,o,a,u,l,c,f,d,h,p,g,m,v,y,w,b,C,x,S,N,E,A,L,O,q,k,T,I,_,M,j,R,P,F,B,$,D,z,U,H,X,W,J,G,V=[].slice,K={}.hasOwnProperty,Q=function(t,e){function r(){this.constructor=t}for(var n in e)K.call(e,n)&&(t[n]=e[n]);return r.prototype=e.prototype,t.prototype=new r,t.__super__=e.prototype,t},Y=[].indexOf||function(t){for(var e=0,r=this.length;r>e;e++)if(e in this&&this[e]===t)return e;return-1};for(b={catchupTime:100,initialRate:.03,minTime:250,ghostTime:100,maxProgressPerFrame:20,easeFactor:1.25,startOnPageLoad:!0,restartOnPushState:!0,restartOnRequestAfter:500,target:"body",elements:{checkInterval:100,selectors:["body"]},eventLag:{minSamples:10,sampleCount:3,lagThreshold:3},ajax:{trackMethods:["GET"],trackWebSockets:!0,ignoreURLs:[]}},O=function(){var t;return null!=(t="undefined"!=typeof performance&&null!==performance&&"function"==typeof performance.now?performance.now():void 0)?t:+new Date},k=window.requestAnimationFrame||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame||window.msRequestAnimationFrame,w=window.cancelAnimationFrame||window.mozCancelAnimationFrame,null==k&&(k=function(t){return setTimeout(t,50)},w=function(t){return clearTimeout(t)}),I=function(t){var e,r;return e=O(),(r=function(){var n;return n=O()-e,n>=33?(e=O(),t(n,function(){return k(r)})):setTimeout(r,33-n)})()},T=function(){var t,e,r;return r=arguments[0],e=arguments[1],t=3<=arguments.length?V.call(arguments,2):[],"function"==typeof r[e]?r[e].apply(r,t):r[e]},C=function(){var t,e,r,n,i,s,o;for(e=arguments[0],n=2<=arguments.length?V.call(arguments,1):[],s=0,o=n.length;o>s;s++)if(r=n[s])for(t in r)K.call(r,t)&&(i=r[t],null!=e[t]&&"object"==typeof e[t]&&null!=i&&"object"==typeof i?C(e[t],i):e[t]=i);return e},m=function(t){var e,r,n,i,s;for(r=e=0,i=0,s=t.length;s>i;i++)n=t[i],r+=Math.abs(n),e++;return r/e},S=function(t,e){var r,n,i;if(null==t&&(t="options"),null==e&&(e=!0),i=document.querySelector("[data-pace-"+t+"]")){if(r=i.getAttribute("data-pace-"+t),!e)return r;try{return JSON.parse(r)}catch(s){return n=s,"undefined"!=typeof console&&null!==console?console.error("Error parsing inline pace options",n):void 0}}},o=function(){function t(){}return t.prototype.on=function(t,e,r,n){var i;return null==n&&(n=!1),null==this.bindings&&(this.bindings={}),null==(i=this.bindings)[t]&&(i[t]=[]),this.bindings[t].push({handler:e,ctx:r,once:n})},t.prototype.once=function(t,e,r){return this.on(t,e,r,!0)},t.prototype.off=function(t,e){var r,n,i;if(null!=(null!=(n=this.bindings)?n[t]:void 0)){if(null==e)return delete this.bindings[t];for(r=0,i=[];r<this.bindings[t].length;)i.push(this.bindings[t][r].handler===e?this.bindings[t].splice(r,1):r++);return i}},t.prototype.trigger=function(){var t,e,r,n,i,s,o,a,u;if(r=arguments[0],t=2<=arguments.length?V.call(arguments,1):[],null!=(o=this.bindings)?o[r]:void 0){for(i=0,u=[];i<this.bindings[r].length;)a=this.bindings[r][i],n=a.handler,e=a.ctx,s=a.once,n.apply(null!=e?e:this,t),u.push(s?this.bindings[r].splice(i,1):i++);return u}},t}(),l=window.Pace||{},window.Pace=l,C(l,o.prototype),q=l.options=C({},b,window.paceOptions,S()),W=["ajax","document","eventLag","elements"],z=0,H=W.length;H>z;z++)R=W[z],q[R]===!0&&(q[R]=b[R]);u=function(t){function e(){return J=e.__super__.constructor.apply(this,arguments)}return Q(e,t),e}(Error),e=function(){function t(){this.progress=0}return t.prototype.getElement=function(){var t;if(null==this.el){if(t=document.querySelector(q.target),!t)throw new u;this.el=document.createElement("div"),this.el.className="pace pace-active",document.body.className=document.body.className.replace(/pace-done/g,""),document.body.className+=" pace-running",this.el.innerHTML='<div class="pace-progress">\n  <div class="pace-progress-inner"></div>\n</div>\n<div class="pace-activity"></div>',null!=t.firstChild?t.insertBefore(this.el,t.firstChild):t.appendChild(this.el)}return this.el},t.prototype.finish=function(){var t;return t=this.getElement(),t.className=t.className.replace("pace-active",""),t.className+=" pace-inactive",document.body.className=document.body.className.replace("pace-running",""),document.body.className+=" pace-done"},t.prototype.update=function(t){return this.progress=t,this.render()},t.prototype.destroy=function(){try{this.getElement().parentNode.removeChild(this.getElement())}catch(t){u=t}return this.el=void 0},t.prototype.render=function(){var t,e,r,n,i,s,o;if(null==document.querySelector(q.target))return!1;for(t=this.getElement(),n="translate3d("+this.progress+"%, 0, 0)",o=["webkitTransform","msTransform","transform"],i=0,s=o.length;s>i;i++)e=o[i],t.children[0].style[e]=n;return(!this.lastRenderedProgress||this.lastRenderedProgress|0!==this.progress|0)&&(t.children[0].setAttribute("data-progress-text",""+(0|this.progress)+"%"),this.progress>=100?r="99":(r=this.progress<10?"0":"",r+=0|this.progress),t.children[0].setAttribute("data-progress",""+r)),this.lastRenderedProgress=this.progress},t.prototype.done=function(){return this.progress>=100},t}(),a=function(){function t(){this.bindings={}}return t.prototype.trigger=function(t,e){var r,n,i,s,o;if(null!=this.bindings[t]){for(s=this.bindings[t],o=[],n=0,i=s.length;i>n;n++)r=s[n],o.push(r.call(this,e));return o}},t.prototype.on=function(t,e){var r;return null==(r=this.bindings)[t]&&(r[t]=[]),this.bindings[t].push(e)},t}(),D=window.XMLHttpRequest,$=window.XDomainRequest,B=window.WebSocket,x=function(t,e){var r,n,i,s;s=[];for(n in e.prototype)try{i=e.prototype[n],s.push(null==t[n]&&"function"!=typeof i?t[n]=i:void 0)}catch(o){r=o}return s},A=[],l.ignore=function(){var t,e,r;return e=arguments[0],t=2<=arguments.length?V.call(arguments,1):[],A.unshift("ignore"),r=e.apply(null,t),A.shift(),r},l.track=function(){var t,e,r;return e=arguments[0],t=2<=arguments.length?V.call(arguments,1):[],A.unshift("track"),r=e.apply(null,t),A.shift(),r},j=function(t){var e;if(null==t&&(t="GET"),"track"===A[0])return"force";if(!A.length&&q.ajax){if("socket"===t&&q.ajax.trackWebSockets)return!0;if(e=t.toUpperCase(),Y.call(q.ajax.trackMethods,e)>=0)return!0}return!1},c=function(t){function e(){var t,r=this;e.__super__.constructor.apply(this,arguments),t=function(t){var e;return e=t.open,t.open=function(n,i){return j(n)&&r.trigger("request",{type:n,url:i,request:t}),e.apply(t,arguments)}},window.XMLHttpRequest=function(e){var r;return r=new D(e),t(r),r};try{x(window.XMLHttpRequest,D)}catch(n){}if(null!=$){window.XDomainRequest=function(){var e;return e=new $,t(e),e};try{x(window.XDomainRequest,$)}catch(n){}}if(null!=B&&q.ajax.trackWebSockets){window.WebSocket=function(t,e){var n;return n=null!=e?new B(t,e):new B(t),j("socket")&&r.trigger("request",{type:"socket",url:t,protocols:e,request:n}),n};try{x(window.WebSocket,B)}catch(n){}}}return Q(e,t),e}(a),U=null,N=function(){return null==U&&(U=new c),U},M=function(t){var e,r,n,i;for(i=q.ajax.ignoreURLs,r=0,n=i.length;n>r;r++)if(e=i[r],"string"==typeof e){if(-1!==t.indexOf(e))return!0}else if(e.test(t))return!0;return!1},N().on("request",function(e){var r,n,i,s,o;return s=e.type,i=e.request,o=e.url,M(o)?void 0:l.running||q.restartOnRequestAfter===!1&&"force"!==j(s)?void 0:(n=arguments,r=q.restartOnRequestAfter||0,"boolean"==typeof r&&(r=0),setTimeout(function(){var e,r,o,a,u,c;if(e="socket"===s?i.readyState<2:0<(a=i.readyState)&&4>a){for(l.restart(),u=l.sources,c=[],r=0,o=u.length;o>r;r++){if(R=u[r],R instanceof t){R.watch.apply(R,n);break}c.push(void 0)}return c}},r))}),t=function(){function t(){var t=this;this.elements=[],N().on("request",function(){return t.watch.apply(t,arguments)})}return t.prototype.watch=function(t){var e,r,n,i;return n=t.type,e=t.request,i=t.url,M(i)?void 0:(r="socket"===n?new h(e):new p(e),this.elements.push(r))},t}(),p=function(){function t(t){var e,r,n,i,s,o,a=this;if(this.progress=0,null!=window.ProgressEvent)for(r=null,t.addEventListener("progress",function(t){return a.progress=t.lengthComputable?100*t.loaded/t.total:a.progress+(100-a.progress)/2},!1),o=["load","abort","timeout","error"],n=0,i=o.length;i>n;n++)e=o[n],t.addEventListener(e,function(){return a.progress=100},!1);else s=t.onreadystatechange,t.onreadystatechange=function(){var e;return 0===(e=t.readyState)||4===e?a.progress=100:3===t.readyState&&(a.progress=50),"function"==typeof s?s.apply(null,arguments):void 0}}return t}(),h=function(){function t(t){var e,r,n,i,s=this;for(this.progress=0,i=["error","open"],r=0,n=i.length;n>r;r++)e=i[r],t.addEventListener(e,function(){return s.progress=100},!1)}return t}(),n=function(){function t(t){var e,r,n,s;for(null==t&&(t={}),this.elements=[],null==t.selectors&&(t.selectors=[]),s=t.selectors,r=0,n=s.length;n>r;r++)e=s[r],this.elements.push(new i(e))}return t}(),i=function(){function t(t){this.selector=t,this.progress=0,this.check()}return t.prototype.check=function(){var t=this;return document.querySelector(this.selector)?this.done():setTimeout(function(){return t.check()},q.elements.checkInterval)},t.prototype.done=function(){return this.progress=100},t}(),r=function(){function t(){var t,e,r=this;this.progress=null!=(e=this.states[document.readyState])?e:100,t=document.onreadystatechange,document.onreadystatechange=function(){return null!=r.states[document.readyState]&&(r.progress=r.states[document.readyState]),"function"==typeof t?t.apply(null,arguments):void 0}}return t.prototype.states={loading:0,interactive:50,complete:100},t}(),s=function(){function t(){var t,e,r,n,i,s=this;this.progress=0,t=0,i=[],n=0,r=O(),e=setInterval(function(){var o;return o=O()-r-50,r=O(),i.push(o),i.length>q.eventLag.sampleCount&&i.shift(),t=m(i),++n>=q.eventLag.minSamples&&t<q.eventLag.lagThreshold?(s.progress=100,clearInterval(e)):s.progress=100*(3/(t+3))},50)}return t}(),d=function(){function t(t){this.source=t,this.last=this.sinceLastUpdate=0,this.rate=q.initialRate,this.catchup=0,this.progress=this.lastProgress=0,null!=this.source&&(this.progress=T(this.source,"progress"))}return t.prototype.tick=function(t,e){var r;return null==e&&(e=T(this.source,"progress")),e>=100&&(this.done=!0),e===this.last?this.sinceLastUpdate+=t:(this.sinceLastUpdate&&(this.rate=(e-this.last)/this.sinceLastUpdate),this.catchup=(e-this.progress)/q.catchupTime,this.sinceLastUpdate=0,this.last=e),e>this.progress&&(this.progress+=this.catchup*t),r=1-Math.pow(this.progress/100,q.easeFactor),this.progress+=r*this.rate*t,this.progress=Math.min(this.lastProgress+q.maxProgressPerFrame,this.progress),this.progress=Math.max(0,this.progress),this.progress=Math.min(100,this.progress),this.lastProgress=this.progress,this.progress},t}(),P=null,_=null,v=null,F=null,g=null,y=null,l.running=!1,E=function(){return q.restartOnPushState?l.restart():void 0},null!=window.history.pushState&&(X=window.history.pushState,window.history.pushState=function(){return E(),X.apply(window.history,arguments)}),null!=window.history.replaceState&&(G=window.history.replaceState,window.history.replaceState=function(){return E(),G.apply(window.history,arguments)}),f={ajax:t,elements:n,document:r,eventLag:s},(L=function(){var t,r,n,i,s,o,a,u;for(l.sources=P=[],o=["ajax","elements","document","eventLag"],r=0,i=o.length;i>r;r++)t=o[r],q[t]!==!1&&P.push(new f[t](q[t]));for(u=null!=(a=q.extraSources)?a:[],n=0,s=u.length;s>n;n++)R=u[n],P.push(new R(q));return l.bar=v=new e,_=[],F=new d})(),l.stop=function(){return l.trigger("stop"),l.running=!1,v.destroy(),y=!0,null!=g&&("function"==typeof w&&w(g),g=null),L()},l.restart=function(){return l.trigger("restart"),l.stop(),l.start()},l.go=function(){var t;return l.running=!0,v.render(),t=O(),y=!1,g=I(function(e,r){var n,i,s,o,a,u,c,f,h,p,g,m,w,b,C,x;for(f=100-v.progress,i=g=0,s=!0,u=m=0,b=P.length;b>m;u=++m)for(R=P[u],p=null!=_[u]?_[u]:_[u]=[],a=null!=(x=R.elements)?x:[R],c=w=0,C=a.length;C>w;c=++w)o=a[c],h=null!=p[c]?p[c]:p[c]=new d(o),s&=h.done,h.done||(i++,g+=h.tick(e));return n=g/i,v.update(F.tick(e,n)),v.done()||s||y?(v.update(100),l.trigger("done"),setTimeout(function(){return v.finish(),l.running=!1,l.trigger("hide")},Math.max(q.ghostTime,Math.max(q.minTime-(O()-t),0)))):r()})},l.start=function(t){C(q,t),l.running=!0;try{v.render()}catch(e){u=e}return document.querySelector(".pace")?(l.trigger("start"),l.go()):setTimeout(l.start,50)},"function"==typeof define&&define.amd?define(function(){return l}):"object"==typeof exports?module.exports=l:q.startOnPageLoad&&l.start()}.call(this);