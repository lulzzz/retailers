window.skriptz=window.skriptz||{},skriptz.cacheSelectors=function(){skriptz.cache={$logo_container:$("#logo_container"),$location_container:$("#pjax-container"),$add_location:$("#add_location")}},skriptz.init=function(){skriptz.cacheSelectors(),skriptz.dropzone(),skriptz.logo(),skriptz.logoDelete(),skriptz.location(),skriptz.dirty(),skriptz.areyousure()},skriptz.dirty=function(){$("form#retailer-data").areYouSure({change:function(){$(this).hasClass("dirty")?ShopifyApp.Modal.alert({title:"Warning!",message:"An alert message",okButton:"I understand"}):$(this).find('input[type="submit"]').attr("disabled","disabled")}})},skriptz.dropzone=function(){Dropzone.options.logoDropzone=!1},skriptz.logo=function(){new Dropzone("#logo_upload",{url:"/upload/image/{{$id}}",paramName:"logo",thumbnailWidth:300,complete:function(){skriptz.cache.$logo_container.load("/retailers/{{$retailer->id}}/edit #logo_container  > *")}})},skriptz.logoDelete=function(){$(".image-delete").on("ajax:success",function(o,i,t,e){skriptz.cache.$logo_container.load("/retailers/{{$retailer->id}}/edit #logo_container > *"),ShopifyApp.flashNotice("Deleted!")})},skriptz.location=function(){$(".location_add").on("ajax:error",function(o,i,t,e){ShopifyApp.flashError("Error: Missing Fields!")}),$(".location_add").on("ajax:success",function(o,i,t,e){skriptz.cache.$location_container.load("/retailers/{{$retailer->id}}/edit #pjax-container > *"),$(this)[0].reset()}),$(".location_delete").on("ajax:success",function(o,i,t,e){skriptz.cache.$location_container.load("/retailers/{{$retailer->id}}/edit #pjax-container > *"),ShopifyApp.flashError("Deleted!")})};