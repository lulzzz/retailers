function _classCallCheck(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}!function(t,e){"use strict";t.rails!==e&&t.error("jquery-ujs has already been loaded!");var n,a=t(document);t.rails=n={linkClickSelector:"a[data-confirm], a[data-method], a[data-remote]:not([disabled]), a[data-disable-with], a[data-disable]",buttonClickSelector:"button[data-remote]:not([form]):not(form button), button[data-confirm]:not([form]):not(form button)",inputChangeSelector:"select[data-remote], input[data-remote], textarea[data-remote]",formSubmitSelector:"form",formInputClickSelector:"form input[type=submit], form input[type=image], form button[type=submit], form button:not([type]), input[type=submit][form], input[type=image][form], button[type=submit][form], button[form]:not([type])",disableSelector:"input[data-disable-with]:enabled, button[data-disable-with]:enabled, textarea[data-disable-with]:enabled, input[data-disable]:enabled, button[data-disable]:enabled, textarea[data-disable]:enabled",enableSelector:"input[data-disable-with]:disabled, button[data-disable-with]:disabled, textarea[data-disable-with]:disabled, input[data-disable]:disabled, button[data-disable]:disabled, textarea[data-disable]:disabled",requiredInputSelector:"input[name][required]:not([disabled]), textarea[name][required]:not([disabled])",fileInputSelector:"input[name][type=file]:not([disabled])",linkDisableSelector:"a[data-disable-with], a[data-disable]",buttonDisableSelector:"button[data-remote][data-disable-with], button[data-remote][data-disable]",csrfToken:function(){return t("meta[name=csrf-token]").attr("content")},csrfParam:function(){return t("meta[name=csrf-param]").attr("content")},CSRFProtection:function(t){var e=n.csrfToken();e&&t.setRequestHeader("X-CSRF-Token",e)},refreshCSRFTokens:function(){t('form input[name="'+n.csrfParam()+'"]').val(n.csrfToken())},fire:function(e,n,a){var r=t.Event(n);return e.trigger(r,a),r.result!==!1},confirm:function(t){return confirm(t)},ajax:function(e){return t.ajax(e)},href:function(t){return t[0].href},isRemote:function(t){return t.data("remote")!==e&&t.data("remote")!==!1},handleRemote:function(a){var r,i,o,s,l,d;if(n.fire(a,"ajax:before")){if(s=a.data("with-credentials")||null,l=a.data("type")||t.ajaxSettings&&t.ajaxSettings.dataType,a.is("form")){r=a.data("ujs:submit-button-formmethod")||a.attr("method"),i=a.data("ujs:submit-button-formaction")||a.attr("action"),o=t(a[0]).serializeArray();var u=a.data("ujs:submit-button");u&&(o.push(u),a.data("ujs:submit-button",null)),a.data("ujs:submit-button-formmethod",null),a.data("ujs:submit-button-formaction",null)}else a.is(n.inputChangeSelector)?(r=a.data("method"),i=a.data("url"),o=a.serialize(),a.data("params")&&(o=o+"&"+a.data("params"))):a.is(n.buttonClickSelector)?(r=a.data("method")||"get",i=a.data("url"),o=a.serialize(),a.data("params")&&(o=o+"&"+a.data("params"))):(r=a.data("method"),i=n.href(a),o=a.data("params")||null);return d={type:r||"GET",data:o,dataType:l,beforeSend:function(t,r){return r.dataType===e&&t.setRequestHeader("accept","*/*;q=0.5, "+r.accepts.script),!!n.fire(a,"ajax:beforeSend",[t,r])&&void a.trigger("ajax:send",t)},success:function(t,e,n){a.trigger("ajax:success",[t,e,n])},complete:function(t,e){a.trigger("ajax:complete",[t,e])},error:function(t,e,n){a.trigger("ajax:error",[t,e,n])},crossDomain:n.isCrossDomain(i)},s&&(d.xhrFields={withCredentials:s}),i&&(d.url=i),n.ajax(d)}return!1},isCrossDomain:function(t){var e=document.createElement("a");e.href=location.href;var n=document.createElement("a");try{return n.href=t,n.href=n.href,!((!n.protocol||":"===n.protocol)&&!n.host||e.protocol+"//"+e.host==n.protocol+"//"+n.host)}catch(a){return!0}},handleMethod:function(a){var r=n.href(a),i=a.data("method"),o=a.attr("target"),s=n.csrfToken(),l=n.csrfParam(),d=t('<form method="post" action="'+r+'"></form>'),u='<input name="_method" value="'+i+'" type="hidden" />';l===e||s===e||n.isCrossDomain(r)||(u+='<input name="'+l+'" value="'+s+'" type="hidden" />'),o&&d.attr("target",o),d.hide().append(u).appendTo("body"),d.submit()},formElements:function(e,n){return e.is("form")?t(e[0].elements).filter(n):e.find(n)},disableFormElements:function(e){n.formElements(e,n.disableSelector).each(function(){n.disableFormElement(t(this))})},disableFormElement:function(t){var n,a;n=t.is("button")?"html":"val",a=t.data("disable-with"),a!==e&&(t.data("ujs:enable-with",t[n]()),t[n](a)),t.prop("disabled",!0),t.data("ujs:disabled",!0)},enableFormElements:function(e){n.formElements(e,n.enableSelector).each(function(){n.enableFormElement(t(this))})},enableFormElement:function(t){var n=t.is("button")?"html":"val";t.data("ujs:enable-with")!==e&&(t[n](t.data("ujs:enable-with")),t.removeData("ujs:enable-with")),t.prop("disabled",!1),t.removeData("ujs:disabled")},allowAction:function(t){var e,a=t.data("confirm"),r=!1;if(!a)return!0;if(n.fire(t,"confirm")){try{r=n.confirm(a)}catch(i){(console.error||console.log).call(console,i.stack||i)}e=n.fire(t,"confirm:complete",[r])}return r&&e},blankInputs:function(e,n,a){var r,i,o,s,l=t(),d=n||"input,textarea",u=e.find(d),c={};return u.each(function(){r=t(this),r.is("input[type=radio]")?(s=r.attr("name"),c[s]||(0===e.find('input[type=radio]:checked[name="'+s+'"]').length&&(o=e.find('input[type=radio][name="'+s+'"]'),l=l.add(o)),c[s]=s)):(i=r.is("input[type=checkbox],input[type=radio]")?r.is(":checked"):!!r.val(),i===a&&(l=l.add(r)))}),!!l.length&&l},nonBlankInputs:function(t,e){return n.blankInputs(t,e,!0)},stopEverything:function(e){return t(e.target).trigger("ujs:everythingStopped"),e.stopImmediatePropagation(),!1},disableElement:function(t){var a=t.data("disable-with");a!==e&&(t.data("ujs:enable-with",t.html()),t.html(a)),t.bind("click.railsDisable",function(t){return n.stopEverything(t)}),t.data("ujs:disabled",!0)},enableElement:function(t){t.data("ujs:enable-with")!==e&&(t.html(t.data("ujs:enable-with")),t.removeData("ujs:enable-with")),t.unbind("click.railsDisable"),t.removeData("ujs:disabled")}},n.fire(a,"rails:attachBindings")&&(t.ajaxPrefilter(function(t,e,a){t.crossDomain||n.CSRFProtection(a)}),t(window).on("pageshow.rails",function(){t(t.rails.enableSelector).each(function(){var e=t(this);e.data("ujs:disabled")&&t.rails.enableFormElement(e)}),t(t.rails.linkDisableSelector).each(function(){var e=t(this);e.data("ujs:disabled")&&t.rails.enableElement(e)})}),a.on("ajax:complete",n.linkDisableSelector,function(){n.enableElement(t(this))}),a.on("ajax:complete",n.buttonDisableSelector,function(){n.enableFormElement(t(this))}),a.on("click.rails",n.linkClickSelector,function(e){var a=t(this),r=a.data("method"),i=a.data("params"),o=e.metaKey||e.ctrlKey;if(!n.allowAction(a))return n.stopEverything(e);if(!o&&a.is(n.linkDisableSelector)&&n.disableElement(a),n.isRemote(a)){if(o&&(!r||"GET"===r)&&!i)return!0;var s=n.handleRemote(a);return s===!1?n.enableElement(a):s.fail(function(){n.enableElement(a)}),!1}return r?(n.handleMethod(a),!1):void 0}),a.on("click.rails",n.buttonClickSelector,function(e){var a=t(this);if(!n.allowAction(a)||!n.isRemote(a))return n.stopEverything(e);a.is(n.buttonDisableSelector)&&n.disableFormElement(a);var r=n.handleRemote(a);return r===!1?n.enableFormElement(a):r.fail(function(){n.enableFormElement(a)}),!1}),a.on("change.rails",n.inputChangeSelector,function(e){var a=t(this);return n.allowAction(a)&&n.isRemote(a)?(n.handleRemote(a),!1):n.stopEverything(e)}),a.on("submit.rails",n.formSubmitSelector,function(a){var r,i,o=t(this),s=n.isRemote(o);if(!n.allowAction(o))return n.stopEverything(a);if(o.attr("novalidate")===e)if(o.data("ujs:formnovalidate-button")===e){if(r=n.blankInputs(o,n.requiredInputSelector,!1),r&&n.fire(o,"ajax:aborted:required",[r]))return n.stopEverything(a)}else o.data("ujs:formnovalidate-button",e);if(s){if(i=n.nonBlankInputs(o,n.fileInputSelector)){setTimeout(function(){n.disableFormElements(o)},13);var l=n.fire(o,"ajax:aborted:file",[i]);return l||setTimeout(function(){n.enableFormElements(o)},13),l}return n.handleRemote(o),!1}setTimeout(function(){n.disableFormElements(o)},13)}),a.on("click.rails",n.formInputClickSelector,function(e){var a=t(this);if(!n.allowAction(a))return n.stopEverything(e);var r=a.attr("name"),i=r?{name:r,value:a.val()}:null,o=a.closest("form");0===o.length&&(o=t("#"+a.attr("form"))),o.data("ujs:submit-button",i),o.data("ujs:formnovalidate-button",a.attr("formnovalidate")),o.data("ujs:submit-button-formaction",a.attr("formaction")),o.data("ujs:submit-button-formmethod",a.attr("formmethod"))}),a.on("ajax:send.rails",n.formSubmitSelector,function(e){this===e.target&&n.disableFormElements(t(this))}),a.on("ajax:complete.rails",n.formSubmitSelector,function(e){this===e.target&&n.enableFormElements(t(this))}),t(function(){n.refreshCSRFTokens()}))}(jQuery);var _createClass=function(){function t(t,e){for(var n=0;n<e.length;n++){var a=e[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(t,a.key,a)}}return function(e,n,a){return n&&t(e.prototype,n),a&&t(e,a),e}}(),Dropdown=function(t){var e="dropdown",n="4.0.0-alpha.5",a="bs.dropdown",r="."+a,i=".data-api",o=t.fn[e],s=27,l=38,d=40,u=3,c={HIDE:"hide"+r,HIDDEN:"hidden"+r,SHOW:"show"+r,SHOWN:"shown"+r,CLICK:"click"+r,CLICK_DATA_API:"click"+r+i,KEYDOWN_DATA_API:"keydown"+r+i},f={BACKDROP:"dropdown-backdrop",DISABLED:"disabled",OPEN:"open"},m={BACKDROP:".dropdown-backdrop",DATA_TOGGLE:'[data-toggle="dropdown"]',FORM_CHILD:".dropdown form",ROLE_MENU:'[role="menu"]',ROLE_LISTBOX:'[role="listbox"]',NAVBAR_NAV:".navbar-nav",VISIBLE_ITEMS:'[role="menu"] li:not(.disabled) a, [role="listbox"] li:not(.disabled) a'},h=function(){function e(t){_classCallCheck(this,e),this._element=t,this._addEventListeners()}return e.prototype.toggle=function(){if(this.disabled||t(this).hasClass(f.DISABLED))return!1;var n=e._getParentFromElement(this),a=t(n).hasClass(f.OPEN);if(e._clearMenus(),a)return!1;if("ontouchstart"in document.documentElement&&!t(n).closest(m.NAVBAR_NAV).length){var r=document.createElement("div");r.className=f.BACKDROP,t(r).insertBefore(this),t(r).on("click",e._clearMenus)}var i={relatedTarget:this},o=t.Event(c.SHOW,i);return t(n).trigger(o),!o.isDefaultPrevented()&&(this.focus(),this.setAttribute("aria-expanded","true"),t(n).toggleClass(f.OPEN),t(n).trigger(t.Event(c.SHOWN,i)),!1)},e.prototype.dispose=function(){t.removeData(this._element,a),t(this._element).off(r),this._element=null},e.prototype._addEventListeners=function(){t(this._element).on(c.CLICK,this.toggle)},e._jQueryInterface=function(n){return this.each(function(){var r=t(this).data(a);if(r||t(this).data(a,r=new e(this)),"string"==typeof n){if(void 0===r[n])throw new Error('No method named "'+n+'"');r[n].call(this)}})},e._clearMenus=function(n){if(!n||n.which!==u){var a=t(m.BACKDROP)[0];a&&a.parentNode.removeChild(a);for(var r=t.makeArray(t(m.DATA_TOGGLE)),i=0;i<r.length;i++){var o=e._getParentFromElement(r[i]),s={relatedTarget:r[i]};if(t(o).hasClass(f.OPEN)&&!(n&&"click"===n.type&&/input|textarea/i.test(n.target.tagName)&&t.contains(o,n.target))){var l=t.Event(c.HIDE,s);t(o).trigger(l),l.isDefaultPrevented()||(r[i].setAttribute("aria-expanded","false"),t(o).removeClass(f.OPEN).trigger(t.Event(c.HIDDEN,s)))}}}},e._getParentFromElement=function(e){var n=void 0,a=Util.getSelectorFromElement(e);return a&&(n=t(a)[0]),n||e.parentNode},e._dataApiKeydownHandler=function(n){if(/(38|40|27|32)/.test(n.which)&&!/input|textarea/i.test(n.target.tagName)&&(n.preventDefault(),n.stopPropagation(),!this.disabled&&!t(this).hasClass(f.DISABLED))){var a=e._getParentFromElement(this),r=t(a).hasClass(f.OPEN);if(!r&&n.which!==s||r&&n.which===s){if(n.which===s){var i=t(a).find(m.DATA_TOGGLE)[0];t(i).trigger("focus")}return void t(this).trigger("click")}var o=t.makeArray(t(m.VISIBLE_ITEMS));if(o=o.filter(function(t){return t.offsetWidth||t.offsetHeight}),o.length){var u=o.indexOf(n.target);n.which===l&&u>0&&u--,n.which===d&&u<o.length-1&&u++,u<0&&(u=0),o[u].focus()}}},_createClass(e,null,[{key:"VERSION",get:function(){return n}}]),e}();return t(document).on(c.KEYDOWN_DATA_API,m.DATA_TOGGLE,h._dataApiKeydownHandler).on(c.KEYDOWN_DATA_API,m.ROLE_MENU,h._dataApiKeydownHandler).on(c.KEYDOWN_DATA_API,m.ROLE_LISTBOX,h._dataApiKeydownHandler).on(c.CLICK_DATA_API,h._clearMenus).on(c.CLICK_DATA_API,m.DATA_TOGGLE,h.prototype.toggle).on(c.CLICK_DATA_API,m.FORM_CHILD,function(t){t.stopPropagation()}),t.fn[e]=h._jQueryInterface,t.fn[e].Constructor=h,t.fn[e].noConflict=function(){return t.fn[e]=o,h._jQueryInterface},h}(jQuery),Util=function(t){function e(t){return{}.toString.call(t).match(/\s([a-zA-Z]+)/)[1].toLowerCase()}function n(t){return(t[0]||t).nodeType}function a(){return{bindType:s.end,delegateType:s.end,handle:function(e){if(t(e.target).is(this))return e.handleObj.handler.apply(this,arguments)}}}function r(){if(window.QUnit)return!1;var t=document.createElement("bootstrap");for(var e in d)if(void 0!==t.style[e])return{end:d[e]};return!1}function i(e){var n=this,a=!1;return t(this).one(u.TRANSITION_END,function(){a=!0}),setTimeout(function(){a||u.triggerTransitionEnd(n)},e),this}function o(){s=r(),t.fn.emulateTransitionEnd=i,u.supportsTransitionEnd()&&(t.event.special[u.TRANSITION_END]=a())}var s=!1,l=1e6,d={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd otransitionend",transition:"transitionend"},u={TRANSITION_END:"bsTransitionEnd",getUID:function(t){do t+=~~(Math.random()*l);while(document.getElementById(t));return t},getSelectorFromElement:function(t){var e=t.getAttribute("data-target");return e||(e=t.getAttribute("href")||"",e=/^#[a-z]/i.test(e)?e:null),e},reflow:function(t){new Function("bs","return bs")(t.offsetHeight)},triggerTransitionEnd:function(e){t(e).trigger(s.end)},supportsTransitionEnd:function(){return Boolean(s)},typeCheckConfig:function(t,a,r){for(var i in r)if(r.hasOwnProperty(i)){var o=r[i],s=a[i],l=void 0;if(l=s&&n(s)?"element":e(s),!new RegExp(o).test(l))throw new Error(t.toUpperCase()+": "+('Option "'+i+'" provided type "'+l+'" ')+('but expected type "'+o+'".'))}}};return o(),u}(jQuery);!function(t){t.fn.areYouSure=function(e){var n=t.extend({message:"You have unsaved changes!",dirtyClass:"dirty",change:null,silent:!1,addRemoveFieldsMarksDirty:!1,fieldEvents:"change keyup propertychange input",fieldSelector:":input:not(input[type=submit]):not(input[type=button])"},e),a=function(e){if(e.hasClass("ays-ignore")||e.hasClass("aysIgnore")||e.attr("data-ays-ignore")||void 0===e.attr("name"))return null;if(e.is(":disabled"))return"ays-disabled";var n,a=e.attr("type");switch(e.is("select")&&(a="select"),a){case"checkbox":case"radio":n=e.is(":checked");break;case"select":n="",e.find("option").each(function(e){var a=t(this);a.is(":selected")&&(n+=a.val())});break;default:n=e.val()}return n},r=function(t){t.data("ays-orig",a(t))},i=function(e){var r=function(t){var e=t.data("ays-orig");return void 0!==e&&a(t)!=e},i=t(this).is("form")?t(this):t(this).parents("form");if(r(t(e.target)))return void s(i,!0);if($fields=i.find(n.fieldSelector),n.addRemoveFieldsMarksDirty){var o=i.data("ays-orig-field-count");if(o!=$fields.length)return void s(i,!0)}var l=!1;$fields.each(function(){if($field=t(this),r($field))return l=!0,!1}),s(i,l)},o=function(e){var a=e.find(n.fieldSelector);t(a).each(function(){r(t(this))}),t(a).unbind(n.fieldEvents,i),t(a).bind(n.fieldEvents,i),e.data("ays-orig-field-count",t(a).length),s(e,!1)},s=function(t,e){var a=e!=t.hasClass(n.dirtyClass);t.toggleClass(n.dirtyClass,e),a&&(n.change&&n.change.call(t,t),e&&t.trigger("dirty.areYouSure",[t]),e||t.trigger("clean.areYouSure",[t]),t.trigger("change.areYouSure",[t]))},l=function(){var e=t(this),a=e.find(n.fieldSelector);t(a).each(function(){var e=t(this);e.data("ays-orig")||(r(e),e.bind(n.fieldEvents,i))}),e.trigger("checkform.areYouSure")},d=function(){o(t(this))};return n.silent||window.aysUnloadSet||(window.aysUnloadSet=!0,t(window).bind("beforeunload",function(){if($dirtyForms=t("form").filter("."+n.dirtyClass),0!=$dirtyForms.length){if(navigator.userAgent.toLowerCase().match(/msie|chrome/)){if(window.aysHasPrompted)return;window.aysHasPrompted=!0,window.setTimeout(function(){window.aysHasPrompted=!1},900)}return n.message}})),this.each(function(e){if(t(this).is("form")){var a=t(this);a.submit(function(){a.removeClass(n.dirtyClass)}),a.bind("reset",function(){s(a,!1)}),a.bind("rescan.areYouSure",l),a.bind("reinitialize.areYouSure",d),a.bind("checkform.areYouSure",i),o(a)}})}}(jQuery);